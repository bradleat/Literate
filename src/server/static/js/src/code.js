// Generated by CoffeeScript 1.7.1
(function() {
  module.exports = function() {
    App.CodeRoute = Ember.Route.extend({
      model: function(_arg, transition) {
        var page;
        _arg;
        page = transition.params.page.page_dir;
        this.set('page', page);
        return $.ajax({
          url: "/tangle/" + page + "?mode=code",
          cache: false
        });
      },
      setupController: function(controller, model) {
        var res;
        res = {
          model: model,
          page: this.get('page')
        };
        App.state.toCode(model, res.page);
        return controller.set('model', res);
      }
    });
    App.CodeController = Ember.ObjectController.extend({
      needs: "page"
    });
    return App.CodeView = Ember.View.extend({
      didInsertElement: function() {
        return App.state.toCode(this.get('controller.content.model'), this.get('controller.content.page'));
      }
    });
  };

}).call(this);
